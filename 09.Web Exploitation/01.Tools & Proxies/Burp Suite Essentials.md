# Burp Suite Essentials
## 1. Proxy Setup and Configuration
To analyze and manipulate web traffic, you must configure your browser to route traffic through the proxy tool (acting as a "Man-in-the-Middle").
- **Port Configuration:** Both Burp and ZAP listen on port `8080` by default. This can be changed in the tool's settings, but the browser must match this port.    
- **FoxyProxy:** A Firefox extension recommended for quickly switching between proxy configurations (e.g., turning the proxy on/off without digging into browser settings).
- **CA Certificates:** To intercept HTTPS traffic without errors, you must install the proxyâ€™s CA certificate in your browser.
    - **Burp:** Visit `http://burp` while the proxy is active to download the certificate.
    - **Firefox Install:** Import the certificate under `Preferences > Privacy & Security > View Certificates > Authorities`. Ensure you check "Trust this CA to identify websites."
## 2. Intercepting Requests and Responses
Interception allows you to pause web traffic to inspect or modify it before it reaches its destination.
- **Request Interception:** This allows you to modify data sent _to_ the server. Common uses include testing for SQL injection, command injection, and file upload bypass by changing parameters that the frontend interface might restrict (e.g., changing a numeric ID to a malicious string).
- **Response Interception:** This allows you to modify data sent _back_ to the browser. You can enable hidden HTML buttons, change input field types (e.g., changing `type="number"` to `type="text"` to bypass length or character restrictions), or reveal hidden data.
## 3. Automatic Modification (Match and Replace)
Instead of manually editing every request, you can set rules to automatically modify traffic on the fly.
- **Request Rules:** Automatically replace headers (e.g., changing the `User-Agent` to bypass filters).
- **Response Rules:** Automatically modify HTML bodies (e.g., permanently changing an input field from `number` to `text` so you don't have to edit it every time the page loads).
- **Regex:** You can use Regular Expressions to match dynamic patterns rather than static strings.
## 4. Repeater and History
- **Proxy History:** A log of all HTTP requests and responses. It allows you to filter and sort traffic to locate specific interactions.
- **Repeater:** A tool for manually manipulating and resending individual requests. You can send a request from the History to the Repeater (Ctrl+R) to tweak parameters and analyze the response without using the browser.
## 5. Encoding and Decoding
Web applications frequently encode data. Tools like the **Decoder** tab (Burp) or **Encoder/Decoder/Hash** (ZAP) allow you to quickly transform data.
- **Common Formats:** URL, HTML, Base64, Hex.
- **Workflow:** If you find encoded data (like a Base64 cookie), you can decode it, modify the internal values (e.g., changing `is_admin: false` to `true`), re-encode it, and inject it back into the request.
## 6. Proxying External Tools
You can route traffic from command-line tools through your web proxy to analyze their behavior.
- **Proxychains:** A Linux tool that routes CLI traffic through a proxy. You must configure `/etc/proxychains.conf` to point to `127.0.0.1:8080`.
    - _Usage:_ `proxychains -q curl http://target-ip`
- **Metasploit:** You can debug Metasploit modules by routing them through Burp.
    - _Usage:_ `set PROXIES HTTP:127.0.0.1:8080` within `msfconsole`.
## 7. Burp Intruder
Intruder is used for automated fuzzing and brute-forcing.
- **Positions:** You define where payloads will be injected in the request (e.g., replacing a directory name with a placeholder).
- **Payloads:** You configure the wordlists (e.g., `common.txt` from SecLists) that will be iterated over.
- **Grep - Match:** A setting used to flag interesting responses, such as flagging any response containing "200 OK".
- **Attack Types:** The "Sniper" type puts payloads into one position at a time.
## 8. Burp Scanner (Pro Feature)
Burp Scanner automates vulnerability discovery.
- **Crawler:** Navigates the application to map out links, forms, and pages. It builds the "Site map."
- **Passive Scan:** Analyzes traffic _without_ sending new requests. It identifies issues like missing security headers or DOM-based XSS based on the code it sees. It is safe and non-intrusive.
- **Active Scan:** Sends probes and payloads to the target to verify vulnerabilities (e.g., SQL injection, Command Injection). This is intrusive and generates significant traffic.
## 9. Extensions
Functionality can be extended via the **BApp Store** (Burp) or **ZAP Marketplace**.
- **Extender Tab:** Lists available extensions (some require Jython).
- **Example:** `Decoder Improved` adds additional hashing and encoding formats not found in the default decoder.